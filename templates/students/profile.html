{% extends "base_stu.html" %}
{% block title %}Hồ sơ cá nhân{% endblock %}

{% block content %}
<h4 class="mb-4">Hồ sơ cá nhân</h4>

<div class="row">
    <!-- AVATAR -->
    <div class="col-md-4">
        <div class="student-card text-center">
            <img
              src="{{ current_user.avatar or 'https://res.cloudinary.com/<cloud_name>/image/upload/default.png' }}"
              class="rounded-circle"
              width="160"
              height="160"
              style="object-fit: cover;"
            >



            <form method="post" enctype="multipart/form-data">
                <input type="file" name="avatar" class="form-control mb-2">
                <button class="btn btn-primary btn-sm w-100">
                    <i class="bi bi-image"></i> Đổi ảnh
                </button>
            </form>
        </div>
    </div>

    <!-- INFO -->
    <div class="col-md-8">
        <div class="student-card">
            <p><strong>Họ tên:</strong> {{ student.name }}</p>
            <p><strong>MSSV:</strong> {{ student.mssv }}</p>
            <p><strong>Ngày sinh:</strong> {{ student.date_of_birth.strftime('%d/%m/%Y') }}</p>
            <p><strong>Lớp:</strong> {{ student.class_model.name }}</p>
            <p><strong>Ngành:</strong> {{ student.class_model.major.name }}</p>
            <p><strong>Khoa:</strong> {{ student.class_model.major.faculty.name }}</p>
            <p><strong>Email:</strong> {{ user.email }}</p>

            <hr>

            <form method="post">
                <div class="mb-3">
                    <label class="form-label">Số điện thoại</label>
                    <input name="phone" value="{{ user.phone }}" class="form-control">
                </div>

                <button class="btn btn-success">
                    <i class="bi bi-save"></i> Lưu thay đổi
                </button>
            </form>
        </div>
    </div>
</div>
{% endblock %}
